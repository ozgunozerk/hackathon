(function(o,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(o=typeof globalThis<"u"?globalThis:o||self,t(o.VueWaypoint={},o.Vue))})(this,function(o,t){"use strict";var c=(e=>(e.In="IN",e.Out="OUT",e))(c||{}),p=(e=>(e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e))(p||{});const m=e=>e?"IN":"OUT",w=(e,r)=>{if(e.top<r.top)return"UP";if(e.left>r.left)return"RIGHT";if(e.top>r.top)return"DOWN";if(e.left<r.left)return"LEFT"},y=e=>r=>{const u=t.ref();return new window.IntersectionObserver(([n])=>{var i;if(typeof n>"u"){console.error("[vue-waypoint]","observed element is undefined");return}(i=u.value)!=null||(u.value=n.boundingClientRect),r({el:n.target,going:m(n.isIntersecting),direction:w(n.boundingClientRect,u.value)}),u.value=n.boundingClientRect},e)},O=t.defineComponent({name:"Waypoint",props:{active:{type:Boolean,default:()=>!0},options:{type:Object,default:()=>({})},tag:{type:String,default:()=>"div"},disableCssHelpers:{type:Boolean,default:()=>!1}},setup(e,r){const u=typeof window.IntersectionObserver=="function",n=t.ref(!1),i=t.ref(null),v=t.computed(()=>u&&n.value&&e.active&&i.value!==null),s=t.ref(),C=a=>s.value=a,g=t.ref(y(e.options)(C));t.watch(v,()=>{if(i.value!==null)return v.value?g.value.observe(i.value):g.value.unobserve(i.value)}),t.watch(s,()=>{typeof s.value>"u"||r.emit("change",s.value)}),t.onMounted(()=>n.value=!0),t.onBeforeUnmount(()=>n.value=!1);const T=t.computed(()=>{var b;const{going:a,direction:l}=(b=s.value)!=null?b:{},f=a&&`going-${a.toLowerCase()}`,d=l&&`direction-${l.toLowerCase()}`;return["waypoint",f,d]});return()=>{var l,f,d;const a=e.disableCssHelpers?{ref:i}:{ref:i,class:T.value};return t.h(e.tag,a,(d=(f=r.slots).default)==null?void 0:d.call(f,(l=s.value)!=null?l:{}))}}});o.Direction=p,o.Going=c,o.Waypoint=O,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
